<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wielkie Akcje i Transakcje - Rejestracja</title>

    <!-- CSS dla Tom Select -->
    <link href="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/css/tom-select.css" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- JS dla Tom Select -->
    <script src="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/js/tom-select.complete.min.js"></script>

    <style>
        .address-group {
            border: 1px solid #e2e8f0;
            padding: 1rem;
            border-radius: 0.375rem;
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
        /* Poprawki wizualne dla Tom Select, aby pasował do Tailwind */
        .ts-control {
            border: 1px solid #d1d5db !important; /* border-gray-300 */
            border-radius: 0.375rem !important; /* rounded-md */
            box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05) !important; /* shadow-sm */
            padding: 0.5rem 1rem !important;
            min-height: 42px; /* Zapewnia tę samą wysokość co inne pola */
        }
        .ts-control.focus {
            border-color: #3b82f6 !important; /* focus:border-blue-500 */
            box-shadow: 0 0 0 1px #3b82f6 !important; /* focus:ring-blue-500 */
        }
        .ts-wrapper {
            width: 100%;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans flex items-center justify-center min-h-screen py-12">

<div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-2xl">
    <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">Zarejestruj się</h2>

    <form action="#" method="POST" id="registrationForm" class="space-y-6">
        <!-- Pola podstawowe dla każdego użytkownika (bez zmian) -->
        <div>
            <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
            <input type="email" id="email" name="email" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div>
            <label for="username" class="block text-sm font-medium text-gray-700">Nazwa użytkownika</label>
            <input type="text" id="username" name="username" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div>
            <label for="password" class="block text-sm font-medium text-gray-700">Hasło</label>
            <input type="password" id="password" name="password" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div>
            <label for="confirm_password" class="block text-sm font-medium text-gray-700">Powtórz hasło</label>
            <input type="password" id="confirm_password" name="confirm_password" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
            <p class="mt-2 text-xs text-gray-500">
                Hasło musi mieć min. 7 znaków, w tym jedną dużą literę, jedną małą literę, cyfrę i znak specjalny.
                <br>
                Przykład poprawnego hasła: <span class="font-mono">MojeHaslo1!</span>
            </p>
        </div>

        <!-- Wybór typu konta (bez zmian) -->
        <fieldset>
            <legend class="text-base font-medium text-gray-900">Typ konta</legend>
            <div class="mt-4 space-y-4">
                <div class="flex items-center">
                    <input id="account_type_individual" name="account_type" type="radio" value="osoba" checked class="focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300">
                    <label for="account_type_individual" class="ml-3 block text-sm font-medium text-gray-700">Osoba fizyczna</label>
                </div>
                <div class="flex items-center">
                    <input id="account_type_company" name="account_type" type="radio" value="firma" class="focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300">
                    <label for="account_type_company" class="ml-3 block text-sm font-medium text-gray-700">Firma</label>
                </div>
            </div>
        </fieldset>

        <!-- Pola dla osoby fizycznej -->
        <div id="individual_fields" class="space-y-6 border-t border-gray-200 pt-6">
            <h3 class="text-xl font-semibold text-gray-700">Dane osoby fizycznej</h3>
            <div>
                <label for="first_name" class="block text-sm font-medium text-gray-700">Imię</label>
                <input type="text" id="first_name" name="first_name" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
            </div>
            <div>
                <label for="last_name" class="block text-sm font-medium text-gray-700">Nazwisko</label>
                <input type="text" id="last_name" name="last_name" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
            </div>

            <div class="address-group">
                <h4 class="text-lg font-medium text-gray-700 mb-4">Adres</h4>
                <div class="mb-4">
                    <label for="address_country_ind" class="block text-sm font-medium text-gray-700">Państwo</label>
                    <select id="address_country_ind" name="address_country_ind" required class="searchable-select mt-1 block w-full">
                        <option value="" disabled selected>Wybierz państwo...</option>
                    </select>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="address_street_ind" class="block text-sm font-medium text-gray-700">Ulica</label>
                        <input type="text" id="address_street_ind" name="address_street_ind" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label for="address_house_nr_ind" class="block text-sm font-medium text-gray-700">Nr domu</label>
                            <input type="text" id="address_house_nr_ind" name="address_house_nr_ind" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                        </div>
                        <div>
                            <label for="address_apartment_nr_ind" class="block text-sm font-medium text-gray-700">Nr mieszkania</label>
                            <input type="text" id="address_apartment_nr_ind" name="address_apartment_nr_ind" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                        </div>
                    </div>
                    <div>
                        <label for="address_zip_code_ind" class="block text-sm font-medium text-gray-700">Kod pocztowy</label>
                        <input type="text" id="address_zip_code_ind" name="address_zip_code_ind" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                    </div>
                    <div>
                        <label for="address_city_ind" class="block text-sm font-medium text-gray-700">Miasto</label>
                        <input type="text" id="address_city_ind" name="address_city_ind" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                    </div>
                </div>
            </div>

            <div>
                <label for="phone_nr_ind" class="block text-sm font-medium text-gray-700">Nr telefonu</label>
                <input type="tel" id="phone_nr_ind" name="phone_nr_ind" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                <p class="mt-2 text-xs text-gray-500">
                    Podaj numer w formacie międzynarodowym "+[nr.kraju][nr.telefonu]", np. <span class="font-mono">+48123456789</span>
                </p>
            </div>
        </div>

        <!-- Pola dla firmy -->
        <div id="company_fields" class="hidden space-y-6 border-t border-gray-200 pt-6">
            <h3 class="text-xl font-semibold text-gray-700">Dane firmy</h3>
            <div>
                <label for="company_name" class="block text-sm font-medium text-gray-700">Nazwa firmy</label>
                <input type="text" id="company_name" name="company_name" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
            </div>

            <div class="address-group">
                <h4 class="text-lg font-medium text-gray-700 mb-4">Główny adres firmy</h4>
                <div class="mb-4">
                    <label for="address_country_comp" class="block text-sm font-medium text-gray-700">Państwo</label>
                    <select id="address_country_comp" name="address_country_comp" required class="searchable-select mt-1 block w-full">
                        <option value="" disabled selected>Wybierz państwo...</option>
                    </select>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="address_street_comp" class="block text-sm font-medium text-gray-700">Ulica</label>
                        <input type="text" id="address_street_comp" name="address_street_comp" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                    </div>
                    <div>
                        <label for="address_building_locale_comp" class="block text-sm font-medium text-gray-700">Nr budynku / lokalu</label>
                        <input type="text" id="address_building_locale_comp" name="address_building_locale_comp" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                    </div>
                    <div>
                        <label for="address_zip_code_comp" class="block text-sm font-medium text-gray-700">Kod pocztowy</label>
                        <input type="text" id="address_zip_code_comp" name="address_zip_code_comp" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                    </div>
                    <div>
                        <label for="address_city_comp" class="block text-sm font-medium text-gray-700">Miasto</label>
                        <input type="text" id="address_city_comp" name="address_city_comp" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                    </div>
                </div>
            </div>

            <div><label for="nip" class="block text-sm font-medium text-gray-700">Numer NIP</label><input type="text" id="nip" name="nip" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div>
            <div><label for="krs_id" class="block text-sm font-medium text-gray-700">ID KRS</label><input type="text" id="krs_id" name="krs_id" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div>

            <div class="address-group">
                <h4 class="text-lg font-medium text-gray-700 mb-4">Osoba kontaktowa</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div><label for="contact_person_first_name" class="block text-sm font-medium text-gray-700">Imię</label><input type="text" id="contact_person_first_name" name="contact_person_first_name" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div>
                    <div><label for="contact_person_last_name" class="block text-sm font-medium text-gray-700">Nazwisko</label><input type="text" id="contact_person_last_name" name="contact_person_last_name" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div>
                    <div><label for="contact_person_email" class="block text-sm font-medium text-gray-700">Email kontaktowy</label><input type="email" id="contact_person_email" name="contact_person_email" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div>
                    <div><label for="contact_person_phone" class="block text-sm font-medium text-gray-700">Nr telefonu kontaktowego</label><input type="tel" id="contact_person_phone" name="contact_person_phone" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div>
                </div>
                <p class="mt-2 text-xs text-gray-500">
                    Podaj numer w formacie międzynarodowym "+[nr.kraju][nr.telefonu]", np. <span class="font-mono">+48123456789</span>
                </p>
            </div>

            <div id="delivery_addresses_container" class="space-y-4">
                <h4 class="text-lg font-medium text-gray-700">Adresy odbioru przesyłek</h4>
                <div id="delivery_address_0" class="address-group">
                    <h5 class="text-md font-medium text-gray-700 mb-4">Adres odbioru #1</h5>
                    <div class="mb-4">
                        <label for="delivery_country_0" class="block text-sm font-medium text-gray-700">Państwo</label>
                        <select id="delivery_country_0" name="delivery_country_0" required class="searchable-select mt-1 block w-full">
                            <option value="" disabled selected>Wybierz państwo...</option>
                        </select>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="delivery_street_0" class="block text-sm font-medium text-gray-700">Ulica</label>
                            <input type="text" id="delivery_street_0" name="delivery_street_0" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                        </div>
                        <div>
                            <label for="delivery_building_locale_0" class="block text-sm font-medium text-gray-700">Nr budynku / lokalu</label>
                            <input type="text" id="delivery_building_locale_0" name="delivery_building_locale_0" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                        </div>
                        <div>
                            <label for="delivery_zip_code_0" class="block text-sm font-medium text-gray-700">Kod pocztowy</label>
                            <input type="text" id="delivery_zip_code_0" name="delivery_zip_code_0" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                        </div>
                        <div>
                            <label for="delivery_city_0" class="block text-sm font-medium text-gray-700">Miasto</label>
                            <input type="text" id="delivery_city_0" name="delivery_city_0" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
                        </div>
                    </div>
                </div>

                <button type="button" id="add_delivery_address" class="px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors text-sm">Dodaj kolejny adres odbioru</button>
            </div>
        </div>

        <!-- Przycisk rejestracji -->
        <button type="submit"
                class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
            Zarejestruj się
        </button>

        <!-- ZMIANA: Usunięto <datalist> -->
    </form>
</div>

<script>
    // Stałe do elementów DOM
    const individualRadio = document.getElementById('account_type_individual');
    const companyRadio = document.getElementById('account_type_company');
    const individualFields = document.getElementById('individual_fields');
    const companyFields = document.getElementById('company_fields');
    const addDeliveryAddressBtn = document.getElementById('add_delivery_address');
    const deliveryAddressesContainer = document.getElementById('delivery_addresses_container');
    const registrationForm = document.getElementById('registrationForm');

    let deliveryAddressCount = 1;
    let countryOptions = []; // Globalna przechowalnia opcji państw, aby nie pobierać ich wielokrotnie
    let tomSelectInstances = {};

    function setRequiredStatus(container, isRequired) {
        // Znajdź wszystkie pola input i select w danym kontenerze
        const fields = container.querySelectorAll('input, select');
        fields.forEach(field => {
            const exceptions = ['address_apartment_nr_ind', 'krs_id'];
            if (exceptions.includes(field.id)) {
                // Jeśli to pole jest wyjątkiem, upewnij się, że NIGDY nie ma atrybutu 'required'
                field.removeAttribute('required');
                return; // Przejdź do następnego pola w pętli
            }

            if (isRequired) {
                // Dodaj atrybut 'required', jeśli jeszcze go nie ma
                field.setAttribute('required', 'required');
            } else {
                // Usuń atrybut 'required'
                field.removeAttribute('required');
            }
        });
    }

    // Funkcja do przełączania widoczności pól
    function toggleAccountTypeFields() {
        const isIndividual = individualRadio.checked;

        individualFields.classList.toggle('hidden', !isIndividual);
        companyFields.classList.toggle('hidden', isIndividual);

        // Ustaw 'required' tylko dla widocznych pól
        setRequiredStatus(individualFields, isIndividual);
        setRequiredStatus(companyFields, !isIndividual);

        // Zniszcz instancje Tom Select na ukrytych polach
        const fieldsToDestroy = isIndividual ? companyFields : individualFields;
        fieldsToDestroy.querySelectorAll('.searchable-select').forEach(select => {
            if (select.tomselect) {
                select.tomselect.destroy();
                delete tomSelectInstances[select.id];
            }
        });

        // Stwórz instancje Tom Select na nowo widocznych polach
        const fieldsToCreate = isIndividual ? individualFields : companyFields;
        fieldsToCreate.querySelectorAll('.searchable-select').forEach(select => {
            // Sprawdź, czy instancja już nie istnieje
            if (!tomSelectInstances[select.id]) {
                tomSelectInstances[select.id] = new TomSelect(select, {
                    options: countryOptions,
                    create: false,
                    placeholder: 'Szukaj lub wybierz państwo...'
                });
            }
        });
    }

    // Funkcja do dodawania adresów
    function addDeliveryAddress() {
        const newAddressId = `delivery_address_${deliveryAddressCount}`;
        const newAddressGroup = document.createElement('div');
        newAddressGroup.id = newAddressId;
        newAddressGroup.classList.add('address-group');
        newAddressGroup.innerHTML = `
        <div class="flex justify-between items-center mb-4">
            <h5 class="text-md font-medium text-gray-700">Adres odbioru #${deliveryAddressCount + 1}</h5>
            <button type="button" class="remove-delivery-address px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors text-sm">Usuń</button>
        </div>

        <!-- Pole Państwo przeniesione na górę -->
        <div class="mb-4">
            <label for="delivery_country_${deliveryAddressCount}" class="block text-sm font-medium text-gray-700">Państwo</label>
            <select id="delivery_country_${deliveryAddressCount}" name="delivery_country_${deliveryAddressCount}" required class="searchable-select mt-1 block w-full">
                <option value="" disabled selected>Wybierz państwo...</option>
            </select>
        </div>

        <!-- Siatka z pozostałymi polami -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div><label for="delivery_street_${deliveryAddressCount}" class="block text-sm font-medium text-gray-700">Ulica</label><input type="text" id="delivery_street_${deliveryAddressCount}" name="delivery_street_${deliveryAddressCount}" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div>
            <div><label for="delivery_building_locale_${deliveryAddressCount}" class="block text-sm font-medium text-gray-700">Nr budynku / lokalu</label><input type="text" id="delivery_building_locale_${deliveryAddressCount}" name="delivery_building_locale_${deliveryAddressCount}" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div>
            <div><label for="delivery_zip_code_${deliveryAddressCount}" class="block text-sm font-medium text-gray-700">Kod pocztowy</label><input type="text" id="delivery_zip_code_${deliveryAddressCount}" name="delivery_zip_code_${deliveryAddressCount}" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div>
            <div><label for="delivery_city_${deliveryAddressCount}" class="block text-sm font-medium text-gray-700">Miasto</label><input type="text" id="delivery_city_${deliveryAddressCount}" name="delivery_city_${deliveryAddressCount}" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div>
        </div>`;

        deliveryAddressesContainer.insertBefore(newAddressGroup, addDeliveryAddressBtn);

        const newSelect = document.getElementById(`delivery_country_${deliveryAddressCount}`);
        tomSelectInstances[newSelect.id] = new TomSelect(newSelect, {
            options: countryOptions,
            create: false,
            placeholder: 'Szukaj lub wybierz państwo...'
        });

        // Jeśli dodajemy adres, a wybrana jest firma, upewnij się, że nowe pola są wymagane
        if (companyRadio.checked) {
            setRequiredStatus(newAddressGroup, true);
        }

        deliveryAddressCount++;
        newAddressGroup.querySelector('.remove-delivery-address').addEventListener('click', () => {
            // Przy usuwaniu, również zniszcz instancję
            if (tomSelectInstances[newSelect.id]) {
                tomSelectInstances[newSelect.id].destroy();
                delete tomSelectInstances[newSelect.id];
            }
            newAddressGroup.remove();
        });
    }

    async function initializeCountrySelectors() {
        try {
            const response = await fetch('/api/countries');
            if (!response.ok) throw new Error('Nie udało się pobrać listy państw.');

            const countries = await response.json();
            countryOptions = countries.map(country => ({ value: country.namePl, text: country.namePl }));

            // Po pobraniu opcji, wywołaj toggleAccountTypeFields, aby zainicjalizować
            // Tom Select na polach, które są widoczne na starcie.
            toggleAccountTypeFields();

        } catch (error) {
            console.error('Błąd podczas pobierania państw:', error);
        }
    }

    // Funkcja obsługująca wysyłanie formularza (bez zmian w logice)
    registrationForm.addEventListener('submit', async (event) => {
        event.preventDefault();
        const formData = new FormData(registrationForm);
        const rawData = Object.fromEntries(formData.entries());
        const payload = {
            email: rawData.email,
            username: rawData.username,
            password: rawData.password,
            confirmPassword: rawData.confirm_password,
            accountType: rawData.account_type,
        };

        if (payload.accountType === 'osoba') {
            payload.firstName = rawData.first_name;
            payload.lastName = rawData.last_name;
            payload.phoneNumber = rawData.phone_nr_ind;
            payload.address = {
                street: rawData.address_street_ind,
                houseNumber: rawData.address_house_nr_ind,
                apartmentNumber: rawData.address_apartment_nr_ind,
                zipCode: rawData.address_zip_code_ind,
                city: rawData.address_city_ind,
                country: rawData.address_country_ind
            };
        } else if (payload.accountType === 'firma') {
            payload.firmName = rawData.company_name;
            payload.nip = rawData.nip;
            payload.krs = rawData.krs_id;
            payload.hqAddress = {
                street: rawData.address_street_comp,
                houseNumber: rawData.address_building_locale_comp,
                apartmentNumber: "",
                zipCode: rawData.address_zip_code_comp,
                city: rawData.address_city_comp,
                country: rawData.address_country_comp
            };
            payload.contactPerson = {
                name: rawData.contact_person_first_name,
                surname: rawData.contact_person_last_name,
                email: rawData.contact_person_email,
                phoneNumber: rawData.contact_person_phone
            };
            payload.deliveryAddresses = [];
            const tempAddresses = {};
            for (const [key, value] of formData.entries()) {
                if (key.startsWith('delivery_')) {
                    const parts = key.split('_');
                    const index = parts[parts.length - 1];
                    const fieldName = parts.slice(1, -1).join('_');
                    if (!tempAddresses[index]) tempAddresses[index] = {};
                    if (fieldName === 'building_locale') {
                        tempAddresses[index]['houseNumber'] = value;
                        tempAddresses[index]['apartmentNumber'] = '';
                    } else {
                        const camelCaseField = fieldName.replace(/_([a-z])/g, g => g[1].toUpperCase());
                        tempAddresses[index][camelCaseField] = value;
                    }
                }
            }
            payload.deliveryAddresses = Object.values(tempAddresses);
        }

        console.log('Finalny obiekt JSON do wysłania:', JSON.stringify(payload, null, 2));

        try {
            const response = await fetch('/api/register', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload),
            });

            if (response.ok) {
                window.location.href = "/?registration_status=success";
            } else {
                const error = await response.json();
                alert('Błąd rejestracji: ' + (error.message || error.error || JSON.stringify(error)));
            }
        } catch (error) {
            console.error('Wystąpił błąd:', error);
            alert('Nie udało się połączyć z serwerem.');
        }
    });

    // Podpięcie event listenerów i inicjalizacja
    individualRadio.addEventListener('change', toggleAccountTypeFields);
    companyRadio.addEventListener('change', toggleAccountTypeFields);
    addDeliveryAddressBtn.addEventListener('click', addDeliveryAddress);

    // Wywołanie funkcji inicjalizujących
    initializeCountrySelectors();
</script>

</body>
</html>